<!DOCTYPE HTML>
<html>
  <head>
    <title>JWT Auth and what not.</title>
  </head>
  <body>
    <div>
      <h1><strong>USER LOGIN PAGE</strong></h1>
      <h4>Navigation</h4>
      <div>
        <a href = "/setup">Registration</a>
      </div>
    </div>
    <div>
      Page:form for authencation.
    </div>
    <form action = "/api/authenticate" method = "POST">
      <input type = "text" name = "name" required/><br />
      <input type = "text" name = "password" required/><br/>
      <input type = "submit" />
    </form>

    <div id = "response">
      <div class = "content">

      </div>
    </div>


    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script type = "text/javascript">
    $(document).ready(function(){

      var token = "";
      var formName = $("input[name='name']");
      var formPassword = $("input[name='password']");
      formName.css({"background-color": "pink"});
      formPassword.css({"background-color": "orange"});

      $("form").submit(function(e){
        e.preventDefault();
        console.log(formName.val());
        console.log(formPassword.val());
        $.post("/api/authenticate", {name: formName.val(), password: formPassword.val()}, function(data){
          console.log("The token is as follows: %s", data.token);
          $("#response .content").append(
            $("<p/>", {text: "Token: " + data.token})
          );
        });
      });
    });
    </script>
  </body>
</html>
